"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_primer_experimental_side_panel_nav_list_internal-nav-list-group-element_ts"],{93496:(t,e,i)=>{i.r(e),i.d(e,{InternalNavListGroupElement:()=>I});var r,s,o,n=i(76006),a=i(3399);function l(t,e,i){if(!e.has(t))throw TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}function h(t,e){var i=l(t,e,"get");return i.get?i.get.call(t):i.value}function c(t,e,i){!function(t,e){if(e.has(t))throw TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,i)}function u(t,e,i){var r=l(t,e,"set");return!function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw TypeError("attempted to set read only private field");e.value=i}}(t,r,i),i}let d={repository:a.zi.Repo,team:a.zi.Team};var p=new WeakMap,m=new WeakMap;let ItemsProvider=class ItemsProvider extends EventTarget{abortPreviousRequests(){h(this,m).abort(),u(this,m,new AbortController)}async handleEvent(t){let e=t.parsedQuery.at(-1);if(!e)return;this.abortPreviousRequests();let i=this.fetchItems(t);this.dispatchEvent(new a.Z(i));let r=await i;this.emitItems(r)}async fetchItems(t){let e;let i=new URL(h(this,p),window.location.origin),r=i.searchParams||new URLSearchParams,s=t.rawQuery.toString();r.set("q",s),i.search=r.toString();try{e=await fetch(i.toString(),{headers:{Accept:"application/json"},signal:h(this,m).signal})}catch(t){if("AbortError"!==t.name)throw t}return e&&e.ok?await e.json():[]}emitItems(t){for(let e of t)this.emitItem(e.value,e.url)}emitItem(t,e){this.dispatchEvent(new a.T2({priority:this.priority,value:t,icon:this.icon,action:{url:e}}))}constructor(t,e){super(),c(this,p,{writable:!0,value:void 0}),c(this,m,{writable:!0,value:void 0}),this.queryBuilder=t,this.priority=1,this.name="",this.type="search",this.icon=d[e]||a.zi.Default,this.singularItemName=e,this.value=e,this.queryBuilder.addEventListener("query",this),this.queryBuilder.attachProvider(this),u(this,p,this.queryBuilder.getAttribute("data-search-path")),u(this,m,new AbortController)}};function f(t,e){if(e.has(t))throw TypeError("Cannot initialize the same private elements twice on an object")}function y(t,e,i){if(!e.has(t))throw TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}function g(t,e,i){var r=y(t,e,"set");return!function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw TypeError("attempted to set read only private field");e.value=i}}(t,r,i),i}function v(t,e,i){if(!e.has(t))throw TypeError("attempted to get private field on non-instance");return i}function w(t,e){f(t,e),e.add(t)}function b(t,e,i,r){var s,o=arguments.length,n=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(n=(o<3?s(n):o>3?s(e,i,n):s(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n}let I=(r=new WeakMap,s=new WeakSet,o=new WeakSet,class InternalNavListGroupElement extends HTMLElement{connectedCallback(){this.toggleShowMoreItemVisibility(),document.addEventListener("query-builder:request-provider",t=>{let e=`query-builder-query-${this.inputId}`,i=t.target;i&&i.id===e&&new ItemsProvider(t.target,this.filterItemType)})}showFilter(){this.filterContainer&&(this.filterContainer.hidden=!1,this.showFilterButton.hidden=!0,this.queryBuilder&&(this.list.hidden=!0,v(this,o,M).call(this),this.queryBuilder.input.focus()))}hideFilter(){this.filterContainer&&(this.filterContainer.hidden=!0,this.queryBuilder&&(this.list.hidden=!1,this.queryBuilder.clear()),this.showFilterButton.hidden=!1,this.showFilterButton.focus())}get totalItems(){let t=this.list.children.length;return this.showMoreItem?t-1:t}get atPageLimit(){return this.currentPage===this.maxPages}get hasEnoughItems(){return this.totalItems<this.itemsPerPage*this.currentPage}get hideShowMoreItem(){return this.hasEnoughItems||this.atPageLimit}get showMoreDisabled(){return this.showMoreItem.hasAttribute("aria-disabled")}set showMoreDisabled(t){t?this.showMoreItem.setAttribute("aria-disabled","true"):this.showMoreItem.removeAttribute("aria-disabled"),this.showMoreItem.classList.toggle("disabled",t)}toggleShowMoreItemVisibility(){this.showMoreItem&&(this.showMoreItem.hidden=this.hideShowMoreItem)}async showMore(t){let e;if(t.preventDefault(),this.showMoreDisabled)return;this.showMoreDisabled=!0;try{let t=new URL(this.src,window.location.origin);this.currentPage++,t.searchParams.append("page",this.currentPage.toString());let i=await fetch(t);if(!i.ok)return;e=await i.text()}catch(t){this.showMoreDisabled=!1,this.currentPage--;return}let i=v(this,s,E).call(this,document,e);i?.querySelector("li > a")?.setAttribute("data-targets","internal-nav-list-group.focusMarkers"),this.list.insertBefore(i,this.showMoreItem),this.focusMarkers.pop()?.focus(),this.showMoreDisabled=!1,this.toggleShowMoreItemVisibility()}constructor(...t){super(...t),w(this,s),w(this,o),function(t,e,i){f(t,e),e.set(t,i)}(this,r,{writable:!0,value:void 0}),this.currentPage=1,g(this,r,!0)}});function E(t,e){let i=t.createElement("template");return i.innerHTML=e,t.importNode(i.content,!0)}function M(){var t;if(((t=y(this,r,"get")).get?!t.get.call(this):!t.value)||!this.queryBuilder||!this.hideFilterButton)return;let e=document.createElement("div");e.classList.add("d-flex");let i=this.queryBuilder.styledInput.parentNode;i&&i.insertBefore(e,this.queryBuilder.styledInput),e.appendChild(this.queryBuilder.styledInput),e.appendChild(this.hideFilterButton);let s=document.querySelector(`[for="${this.hideFilterButton.id}"]`);s&&e.appendChild(s),g(this,r,!1)}b([n.Lj],I.prototype,"src",void 0),b([n.Lj],I.prototype,"itemsPerPage",void 0),b([n.Lj],I.prototype,"maxPages",void 0),b([n.Lj],I.prototype,"currentPage",void 0),b([n.Lj],I.prototype,"inputId",void 0),b([n.Lj],I.prototype,"filterItemType",void 0),b([n.fA],I.prototype,"showMoreItem",void 0),b([n.fA],I.prototype,"list",void 0),b([n.GO],I.prototype,"focusMarkers",void 0),b([n.fA],I.prototype,"filterContainer",void 0),b([n.fA],I.prototype,"showFilterButton",void 0),b([n.fA],I.prototype,"hideFilterButton",void 0),b([n.fA],I.prototype,"queryBuilder",void 0),I=b([n.Ih],I)},3399:(t,e,i)=>{var r,s,o,n;i.d(e,{Fi:()=>r,Ju:()=>l,L2:()=>FilterItem,T2:()=>SearchItem,UK:()=>QueryEvent,Z:()=>FetchDataEvent,gC:()=>o,i:()=>a,tj:()=>n,zi:()=>s}),function(t){t.DIRECTORY="Search in this directory",t.ORG="Search in this organization",t.OWNER="Search in this owner",t.REPO="Search in this repository",t.GITHUB="Search all of GitHub",t.GENERAL="Submit search",t.COMMAND="Run command",t.COPILOT="Ask Copilot",t.DEFAULT="Jump to"}(r||(r={}));let a="Autocomplete";let FilterItem=class FilterItem extends Event{constructor({filter:t,value:e,name:i="",description:r="",inlineDescription:s=!1,priority:o=1/0,icon:n,avatar:a,action:l}){super("filter-item"),this.inlineDescription=!1,this.filter=t,this.value=e,this.name=i,this.description=r,this.inlineDescription=s,this.priority=o,this.icon=n,this.avatar=a,this.action=l}};function l(t){return t instanceof Object}!function(t){t.Apps="apps",t.Archived="archived",t.Bookmark="bookmark",t.Branch="branch",t.Calendar="calendar",t.Circle="circle",t.Code="code",t.Comment="comment",t.Copilot="copilot",t.Default="default",t.Discussion="discussion",t.Draft="draft",t.FileIcon="file-icon",t.FileCode="file-code",t.Filter="filter",t.Forbidden="forbidden",t.History="history",t.Issue="issue",t.IssueClosed="issueClosed",t.Iterations="iterations",t.Mention="mention",t.Merged="merged",t.No="no",t.Not="not",t.Milestone="milestone",t.Organization="organization",t.Pencil="pencil",t.Person="person",t.PlusCircle="plus-circle",t.Project="project",t.PullRequest="pullRequest",t.Reaction="reaction",t.Repo="repo",t.Search="search",t.SingleSelect="single-select",t.Sort="sort",t.Tag="tag",t.Team="team",t.Trash="trash",t.Question="question"}(s||(s={})),function(t){t.Entity="--color-prettylights-syntax-entity",t.Constant="--color-prettylights-syntax-constant",t.Keyword="--color-prettylights-syntax-keyword",t.Variable="--color-prettylights-syntax-variable",t.String="--color-prettylights-syntax-string"}(o||(o={}));let SearchItem=class SearchItem extends Event{constructor({priority:t,value:e,action:i,description:r="",icon:s,scope:o="DEFAULT",prefixText:n,prefixColor:a,isFallbackSuggestion:l}){super("search-item"),this.priority=t,this.value=e,this.prefixText=n,this.prefixColor=a,this.action=i,this.description=r,this.icon=s,this.scope=o,this.isFallbackSuggestion=l||!1}};!function(t){t.Normal="normal",t.Entity="entity",t.Constant="constant",t.FilterValue="filter-value"}(n||(n={}));let FetchDataEvent=class FetchDataEvent extends Event{constructor(t){super("fetch-data"),this.fetchPromise=t}};let QueryEvent=class QueryEvent extends Event{toString(){return this.rawQuery}constructor(t,e,i){super("query"),this.parsedQuery=t,this.rawQuery=e,this.parsedMetadata=i}}}}]);
//# sourceMappingURL=app_components_primer_experimental_side_panel_nav_list_internal-nav-list-group-element_ts-7ff6c17197a4.js.map