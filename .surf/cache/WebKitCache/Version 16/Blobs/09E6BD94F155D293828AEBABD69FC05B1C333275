"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["vendors-node_modules_github_file-attachment-element_dist_index_js-node_modules_codemirror_lin-3c37cc"],{57260:(t,e,i)=>{i.d(e,{P:()=>Attachment});let Attachment=class Attachment{constructor(t,e){this.file=t,this.directory=e,this.state="pending",this.id=null,this.href=null,this.name=null,this.percent=0}static traverse(t,e){var i;return e&&(i=t).items&&Array.from(i.items).some(t=>{let e=t.webkitGetAsEntry&&t.webkitGetAsEntry();return e&&e.isDirectory})?s("",Array.from(t.items).map(t=>t.webkitGetAsEntry()).filter(t=>null!=t)):Promise.resolve(n(Array.from(t.files||[])).map(t=>new Attachment(t)))}static from(t){let e=[];for(let i of t)if(i instanceof File)e.push(new Attachment(i));else if(i instanceof Attachment)e.push(i);else throw Error("Unexpected type");return e}get fullPath(){return this.directory?`${this.directory}/${this.file.name}`:this.file.name}isImage(){return["image/gif","image/png","image/jpg","image/jpeg","image/svg+xml"].indexOf(this.file.type)>-1}isVideo(){return["video/mp4","video/quicktime"].indexOf(this.file.type)>-1}saving(t){if("pending"!==this.state&&"saving"!==this.state)throw Error(`Unexpected transition from ${this.state} to saving`);this.state="saving",this.percent=t}saved(t){var e,i,n;if("pending"!==this.state&&"saving"!==this.state)throw Error(`Unexpected transition from ${this.state} to saved`);this.state="saved",this.id=null!==(e=null==t?void 0:t.id)&&void 0!==e?e:null,this.href=null!==(i=null==t?void 0:t.href)&&void 0!==i?i:null,this.name=null!==(n=null==t?void 0:t.name)&&void 0!==n?n:null}isPending(){return"pending"===this.state}isSaving(){return"saving"===this.state}isSaved(){return"saved"===this.state}};function n(t){return Array.from(t).filter(t=>!t.name.startsWith("."))}async function s(t,e){let i=[];for(let o of n(e))if(o.isDirectory)i.push(...await s(o.fullPath,await function(t){return new Promise(function(e,i){let n=[],s=t.createReader(),o=()=>{s.readEntries(t=>{t.length>0?(n.push(...t),o()):e(n)},i)};o()})}(o)));else{let e=await function(t){return new Promise(function(e,i){t.file(e,i)})}(o);i.push(new Attachment(e,t))}return i}let FileAttachmentElement=class FileAttachmentElement extends HTMLElement{connectedCallback(){this.addEventListener("dragenter",a),this.addEventListener("dragover",a),this.addEventListener("dragleave",l),this.addEventListener("drop",c),this.addEventListener("paste",u),this.addEventListener("change",h)}disconnectedCallback(){this.removeEventListener("dragenter",a),this.removeEventListener("dragover",a),this.removeEventListener("dragleave",l),this.removeEventListener("drop",c),this.removeEventListener("paste",u),this.removeEventListener("change",h)}get directory(){return this.hasAttribute("directory")}set directory(t){t?this.setAttribute("directory",""):this.removeAttribute("directory")}async attach(t){let e=t instanceof DataTransfer?await Attachment.traverse(t,this.directory):Attachment.from(t),i=this.dispatchEvent(new CustomEvent("file-attachment-accept",{bubbles:!0,cancelable:!0,detail:{attachments:e}}));i&&e.length&&this.dispatchEvent(new CustomEvent("file-attachment-accepted",{bubbles:!0,detail:{attachments:e}}))}};function o(t){return Array.from(t.types).indexOf("Files")>=0}let r=null;function a(t){let e=t.currentTarget;r&&clearTimeout(r),r=window.setTimeout(()=>e.removeAttribute("hover"),200);let i=t.dataTransfer;i&&o(i)&&(i.dropEffect="copy",e.setAttribute("hover",""),t.preventDefault())}function l(t){t.dataTransfer&&(t.dataTransfer.dropEffect="none");let e=t.currentTarget;e.removeAttribute("hover"),t.stopPropagation(),t.preventDefault()}function c(t){let e=t.currentTarget;if(!(e instanceof FileAttachmentElement))return;e.removeAttribute("hover");let i=t.dataTransfer;i&&o(i)&&(e.attach(i),t.stopPropagation(),t.preventDefault())}let d=/^image\/(gif|png|jpeg)$/;function u(t){if(!t.clipboardData||!t.clipboardData.items)return;let e=t.currentTarget;if(!(e instanceof FileAttachmentElement))return;let i=function(t){for(let e of t)if("file"===e.kind&&d.test(e.type))return e.getAsFile();return null}(t.clipboardData.items);if(!i)return;let n=[i];e.attach(n),t.preventDefault()}function h(t){let e=t.currentTarget;if(!(e instanceof FileAttachmentElement))return;let i=t.target;if(!(i instanceof HTMLInputElement))return;let n=e.getAttribute("input");if(n&&i.id!==n)return;let s=i.files;s&&0!==s.length&&(e.attach(s),i.value="")}window.customElements.get("file-attachment")||(window.FileAttachmentElement=FileAttachmentElement,window.customElements.define("file-attachment",FileAttachmentElement))},28519:(t,e,i)=>{i.d(e,{ir:()=>b});var n=i(54850),s=i(78120),o=i(39306);let SelectedDiagnostic=class SelectedDiagnostic{constructor(t,e,i){this.from=t,this.to=e,this.diagnostic=i}};let LintState=class LintState{constructor(t,e,i){this.diagnostics=t,this.panel=e,this.selected=i}static init(t,e,i){let s=t,o=i.facet(v).markerFilter;o&&(s=o(s));let a=n.p.set(s.map(t=>t.from==t.to||t.from==t.to-1&&i.doc.lineAt(t.from).to==t.from?n.p.widget({widget:new DiagnosticWidget(t),diagnostic:t}).range(t.from):n.p.mark({attributes:{class:"cm-lintRange cm-lintRange-"+t.severity},diagnostic:t}).range(t.from,t.to)),!0);return new LintState(a,e,r(a))}};function r(t,e=null,i=0){let n=null;return t.between(i,1e9,(t,i,{spec:s})=>{if(!e||s.diagnostic==e)return n=new SelectedDiagnostic(t,i,s.diagnostic),!1}),n}function a(t,e){return!!(t.effects.some(t=>t.is(l))||t.changes.touchesRange(e.pos))}let l=s.Py.define(),c=s.Py.define(),d=s.Py.define(),u=s.QQ.define({create:()=>new LintState(n.p.none,null,null),update(t,e){if(e.docChanged){let i=t.diagnostics.map(e.changes),n=null;if(t.selected){let s=e.changes.mapPos(t.selected.from,1);n=r(i,t.selected.diagnostic,s)||r(i,null,s)}t=new LintState(i,t.panel,n)}for(let i of e.effects)i.is(l)?t=LintState.init(i.value,t.panel,e.state):i.is(c)?t=new LintState(t.diagnostics,i.value?LintPanel.open:null,t.selected):i.is(d)&&(t=new LintState(t.diagnostics,t.panel,i.value));return t},provide:t=>[n.mH.from(t,t=>t.panel),n.tk.decorations.from(t,t=>t.diagnostics)]}),h=n.p.mark({class:"cm-lintRange cm-lintRange-active"});function m(t,e,i){let{diagnostics:n}=t.state.field(u),s=[],o=2e8,r=0;n.between(e-(i<0?1:0),e+(i>0?1:0),(t,n,{spec:a})=>{e>=t&&e<=n&&(t==n||(e>t||i>0)&&(e<n||i<0))&&(s.push(a.diagnostic),o=Math.min(t,o),r=Math.max(n,r))});let a=t.state.facet(v).tooltipFilter;return(a&&(s=a(s)),s.length)?{pos:o,end:r,above:t.state.doc.lineAt(o).to<r,create:()=>({dom:f(t,s)})}:null}function f(t,e){return(0,o.Z)("ul",{class:"cm-tooltip-lint"},e.map(e=>y(t,e,!1)))}let g=t=>{let e=t.state.field(u,!1);return!!e&&!!e.panel&&(t.dispatch({effects:c.of(!1)}),!0)},p=n.lg.fromClass(class{constructor(t){this.view=t,this.timeout=-1,this.set=!0;let{delay:e}=t.state.facet(v);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){let t=Date.now();if(t<this.lintTime-10)setTimeout(this.run,this.lintTime-t);else{this.set=!1;let{state:t}=this.view,{sources:e}=t.facet(v);Promise.all(e.map(t=>Promise.resolve(t(this.view)))).then(e=>{let i=e.reduce((t,e)=>t.concat(e));if(this.view.state.doc==t.doc){var o,r;this.view.dispatch((o=this.view.state,{effects:(r=[l.of(i)],o.field(u,!1)?r:r.concat(s.Py.appendConfig.of([u,n.tk.decorations.compute([u],t=>{let{selected:e,panel:i}=t.field(u);return e&&i&&e.from!=e.to?n.p.set([h.range(e.from,e.to)]):n.p.none}),(0,n.bF)(m,{hideOn:a}),x])))}))}},t=>{(0,n.OO)(this.view.state,t)})}}update(t){let e=t.state.facet(v);(t.docChanged||e!=t.startState.facet(v)||e.needsRefresh&&e.needsRefresh(t))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),v=s.r$.define({combine:t=>Object.assign({sources:t.map(t=>t.source)},(0,s.BO)(t.map(t=>t.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(t,e)=>t?e?i=>t(i)||e(i):t:e})),enables:p});function b(t,e={}){return v.of({source:t,config:e})}function w(t){let e=[];if(t)t:for(let{name:i}of t){for(let t=0;t<i.length;t++){let n=i[t];if(/[a-zA-Z]/.test(n)&&!e.some(t=>t.toLowerCase()==n.toLowerCase())){e.push(n);continue t}}e.push("")}return e}function y(t,e,i){var n;let s=i?w(e.actions):[];return(0,o.Z)("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},(0,o.Z)("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),null===(n=e.actions)||void 0===n?void 0:n.map((i,n)=>{let a=!1,l=n=>{if(n.preventDefault(),a)return;a=!0;let s=r(t.state.field(u).diagnostics,e);s&&i.apply(t,s.from,s.to)},{name:c}=i,d=s[n]?c.indexOf(s[n]):-1,h=d<0?c:[c.slice(0,d),(0,o.Z)("u",c.slice(d,d+1)),c.slice(d+1)];return(0,o.Z)("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${c}${d<0?"":` (access key "${s[n]})"`}.`},h)}),e.source&&(0,o.Z)("div",{class:"cm-diagnosticSource"},e.source))}let DiagnosticWidget=class DiagnosticWidget extends n.l9{constructor(t){super(),this.diagnostic=t}eq(t){return t.diagnostic==this.diagnostic}toDOM(){return(0,o.Z)("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}};let PanelItem=class PanelItem{constructor(t,e){this.diagnostic=e,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=y(t,e,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}};let LintPanel=class LintPanel{constructor(t){this.view=t,this.items=[],this.list=(0,o.Z)("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:e=>{if(27==e.keyCode)g(this.view),this.view.focus();else if(38==e.keyCode||33==e.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==e.keyCode||34==e.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==e.keyCode)this.moveSelection(0);else if(35==e.keyCode)this.moveSelection(this.items.length-1);else if(13==e.keyCode)this.view.focus();else{if(!(e.keyCode>=65)||!(e.keyCode<=90)||!(this.selectedIndex>=0))return;let{diagnostic:i}=this.items[this.selectedIndex],n=w(i.actions);for(let s=0;s<n.length;s++)if(n[s].toUpperCase().charCodeAt(0)==e.keyCode){let e=r(this.view.state.field(u).diagnostics,i);e&&i.actions[s].apply(t,e.from,e.to)}}e.preventDefault()},onclick:t=>{for(let e=0;e<this.items.length;e++)this.items[e].dom.contains(t.target)&&this.moveSelection(e)}}),this.dom=(0,o.Z)("div",{class:"cm-panel-lint"},this.list,(0,o.Z)("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>g(this.view)},"\xd7")),this.update()}get selectedIndex(){let t=this.view.state.field(u).selected;if(!t)return -1;for(let e=0;e<this.items.length;e++)if(this.items[e].diagnostic==t.diagnostic)return e;return -1}update(){let{diagnostics:t,selected:e}=this.view.state.field(u),i=0,n=!1,s=null;for(t.between(0,this.view.state.doc.length,(t,o,{spec:r})=>{let a=-1,l;for(let t=i;t<this.items.length;t++)if(this.items[t].diagnostic==r.diagnostic){a=t;break}a<0?(l=new PanelItem(this.view,r.diagnostic),this.items.splice(i,0,l),n=!0):(l=this.items[a],a>i&&(this.items.splice(i,a-i),n=!0)),e&&l.diagnostic==e.diagnostic?l.dom.hasAttribute("aria-selected")||(l.dom.setAttribute("aria-selected","true"),s=l):l.dom.hasAttribute("aria-selected")&&l.dom.removeAttribute("aria-selected"),i++});i<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)n=!0,this.items.pop();0==this.items.length&&(this.items.push(new PanelItem(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),n=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:t,panel:e})=>{t.top<e.top?this.list.scrollTop-=e.top-t.top:t.bottom>e.bottom&&(this.list.scrollTop+=t.bottom-e.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),n&&this.sync()}sync(){let t=this.list.firstChild;function e(){let e=t;t=e.nextSibling,e.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;t!=i.dom;)e();t=i.dom.nextSibling}else this.list.insertBefore(i.dom,t);for(;t;)e()}moveSelection(t){if(this.selectedIndex<0)return;let e=r(this.view.state.field(u).diagnostics,this.items[t].diagnostic);e&&this.view.dispatch({selection:{anchor:e.from,head:e.to},scrollIntoView:!0,effects:d.of(e)})}static open(t){return new LintPanel(t)}};function k(t){return function(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}let x=n.tk.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:k("#d11")},".cm-lintRange-warning":{backgroundImage:k("orange")},".cm-lintRange-info":{backgroundImage:k("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});let LintGutterMarker=class LintGutterMarker extends n.SJ{constructor(t){super(),this.diagnostics=t,this.severity=t.reduce((t,e)=>{let i=e.severity;return"error"==i||"warning"==i&&"info"==t?i:t},"info")}toDOM(t){let e=document.createElement("div");e.className="cm-lint-marker cm-lint-marker-"+this.severity;let i=this.diagnostics,n=t.state.facet(E).tooltipFilter;return n&&(i=n(i)),i.length&&(e.onmouseover=()=>(function(t,e,i){function n(){let n,s=t.elementAtHeight(e.getBoundingClientRect().top+5-t.documentTop),o=t.coordsAtPos(s.from);o&&t.dispatch({effects:A.of({pos:s.from,above:!1,create:()=>({dom:f(t,i),getCoords:()=>e.getBoundingClientRect()})})}),e.onmouseout=e.onmousemove=null,n=i=>{let s=e.getBoundingClientRect();if(!(i.clientX>s.left-10)||!(i.clientX<s.right+10)||!(i.clientY>s.top-10)||!(i.clientY<s.bottom+10)){for(let t=i.target;t;t=t.parentNode)if(1==t.nodeType&&t.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",n),t.state.field(C)&&t.dispatch({effects:A.of(null)})}},window.addEventListener("mousemove",n)}let{hoverTime:s}=t.state.facet(E),o=setTimeout(n,s);e.onmouseout=()=>{clearTimeout(o),e.onmouseout=e.onmousemove=null},e.onmousemove=()=>{clearTimeout(o),o=setTimeout(n,s)}})(t,e,i)),e}};let A=s.Py.define(),C=s.QQ.define({create:()=>null,update:(t,e)=>(t&&e.docChanged&&(t=a(e,t)?null:Object.assign(Object.assign({},t),{pos:e.changes.mapPos(t.pos)})),e.effects.reduce((t,e)=>e.is(A)?e.value:t,t)),provide:t=>n.hJ.from(t)}),E=s.r$.define({combine:t=>(0,s.BO)(t,{hoverTime:300,markerFilter:null,tooltipFilter:null})})},39161:(t,e,i)=>{i.d(e,{r:()=>d});var n=i(67294),s=i(27037),o=i(37323),r=i(30202),a=i(2762),l=i(9160),c=i(44590);function d(t,e,i){let d=(0,r.NL)(i),u=(0,a.S)(),h=(0,o._)(),m=d.defaultQueryOptions(t);m._optimisticResults=u?"isRestoring":"optimistic",(0,c.Fb)(m),(0,l.pf)(m,h),(0,l.JN)(h);let[f]=n.useState(()=>new e(d,m)),g=f.getOptimisticResult(m);if(n.useSyncExternalStore(n.useCallback(t=>{let e=u?()=>void 0:f.subscribe(s.V.batchCalls(t));return f.updateResult(),e},[f,u]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),n.useEffect(()=>{f.setOptions(m,{listeners:!1})},[m,f]),(0,c.SB)(m,g))throw f.setOptions(m,{listeners:!1}),(0,c.j8)(m,f,h);if((0,l.KJ)({result:g,errorResetBoundary:h,throwOnError:m.throwOnError,query:f.getCurrentQuery()}))throw g.error;return m.notifyOnChangeProps?g:f.trackResult(g)}},78551:(t,e,i)=>{i.d(e,{a:()=>o});var n=i(72536),s=i(39161);function o(t,e){return(0,s.r)(t,n.z,e)}}}]);
//# sourceMappingURL=vendors-node_modules_github_file-attachment-element_dist_index_js-node_modules_codemirror_lin-3c37cc-8c62c7c22705.js.map