"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_create-branch-button_CreateBranchButton_tsx"],{68912:(e,t,o)=>{o.d(t,{m:()=>m,z:()=>p});var r=o(85893),n=o(39773),i=o(37169),a=o(85529),l=o(42483),s=o(50919),d=o(67294),c=o(23978);function p(e){if("clipboard"in navigator)return navigator.clipboard.writeText(e);let t=document.body;if(!t)return Promise.reject(Error());let o=function(e){let t=document.createElement("pre");return t.style.width="1px",t.style.height="1px",t.style.position="fixed",t.style.top="5px",t.textContent=e,t}(e);return t.appendChild(o),!function(e){if("clipboard"in navigator)return navigator.clipboard.writeText(e.textContent||"");let t=getSelection();if(null==t)return Promise.reject(Error());t.removeAllRanges();let o=document.createRange();o.selectNodeContents(e),t.addRange(o),document.execCommand("copy"),t.removeAllRanges(),Promise.resolve()}(o),t.removeChild(o),Promise.resolve()}let u=({sx:e})=>(0,r.jsx)(l.Z,{"aria-label":"Copied!",sx:{display:"inline-block",color:"success.fg",p:1,mr:1,...e},children:(0,r.jsx)(a.CheckIcon,{})});function m({icon:e=a.CopyIcon,size:t="medium",onCopy:o,sx:n,textToCopy:l,tooltipProps:m,confirmationComponent:f=(0,r.jsx)(u,{sx:n}),ariaLabel:x,accessibleButton:g,hasPortalTooltip:b=!1}){let[y,j]=d.useState(!1),v=(0,i.Z)(),w=()=>{j(!0),p(l),o?.(),setTimeout(()=>v()&&j(!1),2e3)},C=x??`Copy ${l} to clipboard`;return b?(0,r.jsx)(h,{label:C,textToCopy:l,copied:y,onClickCopy:w,confirmationComponent:f,tooltipProps:m,sx:{...n}}):y?(0,r.jsx)(r.Fragment,{children:f}):(0,r.jsx)(c.u,{text:C,"aria-label":C,...m,sx:{position:"absolute"},children:(0,r.jsx)(s.h,{"aria-label":C,icon:e,variant:"invisible",size:t,tabIndex:!1===g?-1:0,sx:{...n},onClick:w})})}function h({icon:e=a.CopyIcon,size:t="medium",label:o,accessibleButton:i,copied:c,onClickCopy:p,tooltipProps:u,sx:m}){let h=d.useRef(null),[f,x]=(0,n.g)({contentRef:h,"aria-label":c?"Copied!":o,...u});return(0,r.jsxs)(l.Z,{ref:h,...f,children:[c?(0,r.jsx)(l.Z,{sx:{...m},children:(0,r.jsx)(l.Z,{as:"span",sx:{display:"inline-block",color:"success.fg",p:1,mr:1},children:(0,r.jsx)(a.CheckIcon,{})})}):(0,r.jsx)(s.h,{"aria-label":o,icon:e,variant:"invisible",size:t,tabIndex:!1===i?-1:0,sx:{...m},onClick:p}),x]})}try{u.displayName||(u.displayName="CopyConfirmationCheck")}catch{}try{m.displayName||(m.displayName="CopyToClipboardButton")}catch{}try{h.displayName||(h.displayName="PortalTooltipCopyButton")}catch{}},95628:(e,t,o)=>{o.d(t,{M:()=>i});let r=e=>{let t=getComputedStyle(e,null);return["overflow","overflow-y","overflow-x"].some(e=>{let o=t.getPropertyValue(e);return"auto"===o||"scroll"===o})},n=(e,t)=>e&&null!==e.parentNode?n(e.parentNode,t.concat([e])):t;function i(e){if(!(e instanceof HTMLElement||e instanceof SVGElement))return;let t=n(e.parentNode,[]);for(let e of t)if((e instanceof HTMLElement||e instanceof SVGElement)&&r(e))return e;return document.scrollingElement||document.documentElement}},89445:(e,t,o)=>{function r(e,t={}){if(e.match(/^(https?:|\/\/)/))throw Error("Can not make cross-origin requests from verifiedFetch");let o={...t.headers,"GitHub-Verified-Fetch":"true","X-Requested-With":"XMLHttpRequest"};return fetch(e,{...t,headers:o})}function n(e,t){let o=t?.headers??{},n={...o,Accept:"application/json","Content-Type":"application/json"},i=t?.body?JSON.stringify(t.body):void 0;return r(e,{...t,body:i,headers:n})}o.d(t,{Q:()=>r,v:()=>n})},58912:(e,t,o)=>{o.d(t,{q:()=>v});var r=o(85893),n=o(67294),i=o(88216),a=o(42483),l=o(75578),s=o(43535),d=o(80490),c=o(89445),p=o(70479),u=o(68912),m=o(51526);function h({newBranchName:e,setNewBranchName:t}){return(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(l.Z.Label,{children:"New branch name"}),(0,r.jsxs)(a.Z,{sx:{display:"flex",width:"100%"},children:[(0,r.jsx)(m.Z,{block:!0,className:"color-bg-subtle",sx:{borderBottomRightRadius:0,borderTopRightRadius:0,width:"88%"},value:e,onChange:e=>t(e.target.value)}),(0,r.jsx)(a.Z,{className:"color-bg-subtle",sx:{display:"flex",justifyContent:"center",borderRightWidth:1,borderLeftWidth:0,borderTopWidth:1,borderBottomWidth:1,borderTopRightRadius:"10%",borderBottomRightRadius:"10%",borderColor:"border.default",borderStyle:"solid",width:"12%"},children:(0,r.jsx)(u.m,{tooltipProps:{direction:"nw"},textToCopy:e,ariaLabel:"Copy to clipboard",accessibleButton:!0,sx:{height:25,width:25,paddingTop:1}})})]})]})}try{h.displayName||(h.displayName="NewBranchName")}catch{}var f=o(97011),x=o(2708),g=o(52516),b=o(85529);function y(e){return`${e.ownerLogin}/${e.name}`}function j({isForkSourceOpen:e,setForkSourceOpen:t,repoSource:o,setRepoSource:l,repository:s,repositoryParent:d,setDefaultBranch:c,setBranchSource:p}){return(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)(f.Z,{className:"note text-small mt-0",children:"Choose from this fork or its upstream repository."}),(0,r.jsx)(x.w,{open:e,overlayProps:{role:"dialog",width:"medium"},onOpen:()=>t(!0),onClose:()=>t(!1),renderAnchor:e=>(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.r,{...e,trailingVisual:b.TriangleDownIcon,"aria-label":y(o),"data-testid":"anchor-button",children:(0,r.jsxs)(a.Z,{sx:{display:"flex"},children:[(0,r.jsx)(a.Z,{sx:{mr:1,color:"fg.muted"},children:(0,r.jsx)(b.RepoIcon,{size:"small"})}),(0,r.jsx)(a.Z,{sx:{fontSize:1,maxWidth:125,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:(0,r.jsxs)(f.Z,{sx:{minWidth:0},children:["\xa0",`${y(o)}`]})})]})})}),focusZoneSettings:{disabled:!0},children:(0,r.jsx)(a.Z,{"data-testid":"overlay-content",id:"selectPanel",children:(0,r.jsxs)(g.S,{selectionVariant:"single",children:[(0,r.jsx)(g.S.Item,{selected:o.id===d.id,onSelect:()=>{l(d),c(d.defaultBranch),p(d.defaultBranch),t(!1)},children:`${d.ownerLogin}/${d.name}`}),(0,r.jsx)(g.S.Item,{selected:o.id===s.id,onSelect:()=>{l(s),c(s.defaultBranch),p(s.defaultBranch),t(!1)},children:`${s.ownerLogin}/${s.name}`})]})})})]})}try{j.displayName||(j.displayName="ForkPicker")}catch{}function v({branchListCacheKey:e,repository:t,repositoryParent:o,createUrl:u,helpUrl:m}){let[f,x]=(0,n.useState)(!1),[g,b]=(0,n.useState)(t.defaultBranch),[y,v]=(0,n.useState)(t.defaultBranch),[w,C]=(0,n.useState)(""),[S,N]=(0,n.useState)(t),[T,Z]=(0,n.useState)(!1),[k,B]=(0,n.useState)(void 0),[L,R]=(0,n.useState)(void 0),[P,$]=(0,n.useState)(!1),[I,E]=(0,n.useState)(!1);function M(){B(void 0),R(void 0),C(""),$(!1)}async function U(){if(!I){E(!0);let e=new FormData;e.append("name",w),e.append("branch",y),o&&e.append("repo",S.id.toString()),e.append("send_response_as_json","true");let t=await (0,c.Q)(u,{method:"post",body:e,headers:{Accept:"application/json"}}),r=await t.json();if(t.ok)M(),x(!1),window.location.reload();else{let e=r.error;e?.includes("Repository rule violations found")?(R(void 0),B(e.replace("Repository rule violations found","").trim().split("\n\n").slice(0,3).map(e=>e.slice(2)))):e&&(B(void 0),R(e.trim()))}E(!1)}}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.r,{variant:"primary",sx:{marginLeft:3},onClick:()=>{M(),x(!0)},children:"New branch"}),f&&(0,r.jsx)(s.V,{title:"Create a branch",width:"large",onClose:()=>{x(!1),M()},footerButtons:P?[]:[{content:"Cancel",buttonType:"normal",onClick:()=>{x(!1),M()}},{content:"Create new branch",buttonType:"primary",onClick:U}],children:(0,r.jsxs)(n.Fragment,{children:[(k||L)&&(0,r.jsx)(p.g,{prefix:"Unable to create branch:",errorMessageUsingPrefix:k?"Please address the rule violations and try again.":void 0,errorMessageNotUsingPrefix:L,ruleErrors:k,helpUrl:m}),(0,r.jsx)(h,{newBranchName:w,setNewBranchName:C}),(0,r.jsx)(a.Z,{sx:{marginTop:3},children:(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(l.Z.Label,{sx:{marginBottom:0},children:"Source"}),o&&(0,r.jsx)(j,{isForkSourceOpen:T,setForkSourceOpen:Z,repoSource:S,setRepoSource:N,repository:t,repositoryParent:o,setDefaultBranch:b,setBranchSource:v}),(0,r.jsx)(d.cq,{currentCommitish:y,defaultBranch:g,owner:S.ownerLogin,repo:S.name,canCreate:!1,cacheKey:e,selectedRefType:"branch",onSelectItem:e=>v(e),closeOnSelect:!0,types:["branch"],hideShowAll:!0})]})})]})})]})}try{v.displayName||(v.displayName="CreateBranchButton")}catch{}},70479:(e,t,o)=>{o.d(t,{g:()=>c});var r=o(85893),n=o(85529),i=o(51461),a=o(42483),l=o(73290),s=o(98833),d=o(93062);function c({prefix:e,errorMessageUsingPrefix:t,errorMessageNotUsingPrefix:o,ruleErrors:c,helpUrl:p}){let u=(c?.length||0)>0;return t||o?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Z,{variant:"danger",className:"d-flex flex-items-center flex-justify-between",sx:{marginBottom:3},children:t?(0,r.jsxs)(a.Z,{children:[e," ",(0,r.jsx)(d.WZ,{sx:{fontWeight:"bold"},unverifiedHTML:t}),u&&(0,r.jsx)(l.Z,{href:`${p}/repositories/configuring-branches-and-merges-in-your-repository/managing-rulesets/about-rulesets`,sx:{marginLeft:1},children:"Learn more about rulesets."})]}):o&&(0,r.jsx)(a.Z,{children:o})}),u&&(0,r.jsxs)(a.Z,{sx:{marginBottom:3},children:[(0,r.jsx)(a.Z,{sx:{fontWeight:"bold",marginBottom:1},children:"Repository rule violations found:"}),c?.map(e=>r.jsxs(a.Z,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(s.Z,{icon:n.XCircleFillIcon,size:16,sx:{color:"danger.fg"}}),r.jsx(a.Z,{sx:{marginLeft:2},children:e})]},e))]})]}):null}try{c.displayName||(c.displayName="FlashError")}catch{}},45222:(e,t,o)=>{o.d(t,{h:()=>h});var r=o(85893),n=o(42379),i=o(15173),a=o(41905),l=o(86010),s=o(67294),d=o(15388);let c=d.ZP.span.withConfig({displayName:"ControlledTooltip__TooltipBase",componentId:"sc-a342ffc-0"})`
  &::before {
    position: absolute;
    z-index: 1000001;
    display: none;
    width: 0px;
    height: 0px;
    color: ${(0,n.U2)("colors.neutral.emphasisPlus")};
    pointer-events: none;
    content: '';
    border: 6px solid transparent;
    opacity: 0;
  }
  &::after {
    position: absolute;
    z-index: 1000000;
    display: none;
    padding: 0.5em 0.75em;
    font: normal normal 11px/1.5 ${(0,n.U2)("fonts.normal")};
    -webkit-font-smoothing: subpixel-antialiased;
    color: ${(0,n.U2)("colors.fg.onEmphasis")};
    text-align: center;
    text-decoration: none;
    text-shadow: none;
    text-transform: none;
    letter-spacing: normal;
    word-wrap: break-word;
    white-space: pre;
    pointer-events: none;
    content: attr(aria-label);
    background: ${(0,n.U2)("colors.neutral.emphasisPlus")};
    border-radius: ${(0,n.U2)("radii.1")};
    opacity: 0;
  }
  /* delay animation for tooltip */
  @keyframes tooltip-appear {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
  &.tooltipped-open,
  &:hover,
  &:active,
  &:focus {
    &::before,
    &::after {
      display: inline-block;
      text-decoration: none;
      animation-name: tooltip-appear;
      animation-duration: 0.1s;
      animation-fill-mode: forwards;
      animation-timing-function: ease-in;
      animation-delay: 0.4s;
    }
  }

  &.tooltipped-no-delay.tooltipped-open,
  &.tooltipped-no-delay:hover,
  &.tooltipped-no-delay:active,
  &.tooltipped-no-delay:focus {
    &::before,
    &::after {
      animation-delay: 0s;
    }
  }

  /* Tooltipped south */
  &.tooltipped-s,
  &.tooltipped-se,
  &.tooltipped-sw {
    &::after {
      top: 100%;
      right: 50%;
      margin-top: 6px;
    }
    &::before {
      top: auto;
      right: 50%;
      bottom: -7px;
      margin-right: -6px;
      border-bottom-color: ${(0,n.U2)("colors.neutral.emphasisPlus")};
    }
  }
  &.tooltipped-se {
    &::after {
      right: auto;
      left: 50%;
      margin-left: -${(0,n.U2)("space.3")};
    }
  }
  &.tooltipped-sw::after {
    margin-right: -${(0,n.U2)("space.3")};
  }
  /* Tooltips above the object */
  &.tooltipped-n,
  &.tooltipped-ne,
  &.tooltipped-nw {
    &::after {
      right: 50%;
      bottom: 100%;
      margin-bottom: 6px;
    }
    &::before {
      top: -7px;
      right: 50%;
      bottom: auto;
      margin-right: -6px;
      border-top-color: ${(0,n.U2)("colors.neutral.emphasisPlus")};
    }
  }
  &.tooltipped-ne {
    &::after {
      right: auto;
      left: 50%;
      margin-left: -${(0,n.U2)("space.3")};
    }
  }
  &.tooltipped-nw::after {
    margin-right: -${(0,n.U2)("space.3")};
  }
  /* Move the tooltip body to the center of the object. */
  &.tooltipped-s::after,
  &.tooltipped-n::after {
    transform: translateX(50%);
  }
  /* Tooltipped to the left */
  &.tooltipped-w {
    &::after {
      right: 100%;
      bottom: 50%;
      margin-right: 6px;
      transform: translateY(50%);
    }
    &::before {
      top: 50%;
      bottom: 50%;
      left: -7px;
      margin-top: -6px;
      border-left-color: ${(0,n.U2)("colors.neutral.emphasisPlus")};
    }
  }
  /* tooltipped to the right */
  &.tooltipped-e {
    &::after {
      bottom: 50%;
      left: 100%;
      margin-left: 6px;
      transform: translateY(50%);
    }
    &::before {
      top: 50%;
      right: -7px;
      bottom: 50%;
      margin-top: -6px;
      border-right-color: ${(0,n.U2)("colors.neutral.emphasisPlus")};
    }
  }
  &.tooltipped-align-right-2::after {
    right: 0;
    margin-right: 0;
  }
  &.tooltipped-align-right-2::before {
    right: 15px;
  }
  &.tooltipped-align-left-2::after {
    left: 0;
    margin-left: 0;
  }
  &.tooltipped-align-left-2::before {
    left: 10px;
  }
  ${i.Z};
`,p=()=>()=>void 0,u=()=>!1,m=()=>!0,h=(0,s.forwardRef)(function({direction:e="n",className:t,text:o,noDelay:n,align:i,wrap:d,open:h=!1,portalProps:f={},...x},g){let b=(0,s.useSyncExternalStore)(p,m,u),y=(0,l.W)(t,`tooltipped-${e}`,i&&`tooltipped-align-${i}-2`,n&&"tooltipped-no-delay",d&&"tooltipped-multiline",h&&"tooltipped-open");return b?(0,r.jsx)(a.h,{...f,children:(0,r.jsx)(c,{ref:g,role:"tooltip","aria-label":o,...x,sx:{position:"fixed",zIndex:1,...x.sx},className:y})}):null});try{h.displayName||(h.displayName="ControlledTooltip")}catch{}},52793:(e,t,o)=>{o.d(t,{u:()=>s});var r=o(85893),n=o(48030),i=o(67294),a=o(45222),l=o(95628);let s=(0,i.forwardRef)(function({contentRef:e,open:t,anchoredPositionAlignment:o,anchorSide:s,anchorOffset:d,alignmentOffset:c,allowOutOfBounds:p,...u},m){let h=(0,i.useRef)(null);(0,i.useImperativeHandle)(m,()=>h.current);let f=(0,i.useRef)({left:0,top:0}),x=(0,i.useSyncExternalStore)((0,i.useCallback)(o=>{if(!h.current||!e.current||!t)return()=>void 0;let r=(0,l.M)(e.current);return r?.addEventListener("scroll",o),()=>{r?.removeEventListener("scroll",o)}},[e,t]),(0,i.useCallback)(()=>{if(!h.current||!e.current)return f.current;let t=(0,n.N)(h.current,e.current,{align:o??"center",side:s??"outside-top",alignmentOffset:c??0,anchorOffset:d??0,allowOutOfBounds:p});return(t.left!==f.current.left||t.top!==f.current.top)&&(f.current=t),f.current},[e,c,d,o,s,p]),(0,i.useCallback)(()=>f.current,[]));return(0,r.jsx)(a.h,{...u,ref:h,open:t,style:{position:"absolute",...x,...u.style}})});try{s.displayName||(s.displayName="PortalTooltip")}catch{}},39773:(e,t,o)=>{o.d(t,{g:()=>a});var r=o(85893),n=o(67294),i=o(52793);function a({includeAriaAttributes:e=!0,...t}){let o=(0,n.useId)(),[a,l]=(0,n.useState)(!1),s=t.open??a,d=t.id??o;return[{...e?{"aria-describedby":d}:{},onPointerEnter:(0,n.useCallback)(()=>l(!0),[]),onPointerLeave:(0,n.useCallback)(()=>l(!1),[])},(0,r.jsx)(i.u,{...t,open:s,id:d},"portal-tooltip")]}},93062:(e,t,o)=>{o.d(t,{WZ:()=>u,sF:()=>h,wB:()=>p});var r,n=o(85893),i=o(42483),a=o(97011),l=o(27856),s=o.n(l),d=o(67294);function c(e){if("html"in e&&void 0!==e.html){let{html:t,...o}=e;return{safeHTML:t,props:o}}let{unverifiedHTML:t,...o}=e;return{safeHTML:s().sanitize(t),props:o}}let p=m(i.Z);p.displayName="SafeHTMLBox";let u=m(a.Z);function m(e){let t=(0,d.forwardRef)((t,o)=>{let{safeHTML:r,props:i}=c(t);return(0,n.jsx)(e,{ref:o,...i,dangerouslySetInnerHTML:r?{__html:r}:void 0})});return t}u.displayName="SafeHTMLText";let h=(0,d.forwardRef)((e,t)=>{let{safeHTML:o,props:r}=c(e);return(0,n.jsx)("div",{ref:t,...r,dangerouslySetInnerHTML:o?{__html:o}:void 0})});h.displayName="SafeHTMLDiv";try{(r=SafeHTMLComponent).displayName||(r.displayName="SafeHTMLComponent")}catch{}}}]);
//# sourceMappingURL=ui_packages_create-branch-button_CreateBranchButton_tsx-cae60aef72b2.js.map